---
import Header from '../../components/Header.astro';
---

<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <script defer src="https://analytics.us.umami.is/script.js" data-website-id="326ffd8a-2da0-4179-badb-f872644369b3"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register | PixelBrew - Virtual Tech Assistance</title>
</head>
<body class="font-sans bg-gray-50 overflow-x-hidden">
    <Header />
    <div class="bg-base-100 flex items-center justify-center">
        <section class="container mx-auto px-8 lg:px-0 py-16">
            <h1 class="text-5xl lg:text-6xl w-full lg:w-1/3 text-primary font-neuebit leading-[2rem]">Sign Up</h1>
        </section>
        </div>
    <section class="bg-neutral" id="professional">
        <div class="container mx-auto text-base-100 pt-8 text-center">
            Sign up below to get started requesting tasks!
        </div>
        <div class="container mx-auto text-base-100 w-full lg:w-1/2">
            <form name="registerForm" netlify netlify-honeypot action="https://pixelbrew.co/register/success/" class="container mx-auto px-8 lg:px-0 py-8">
                <div class="grid grid-cols-2 gap-4 pb-2">
                    <div>
                        <label class="flex flex-col" for="firstName">First Name
                        <input type="text" id="firstName" name="firstName" required class="input input-bordered input-ghost rounded-none border-solid border-1 border-base-100 bg-white focus:border-secondary focus:text-base-100"/>
                        </label>
                    </div>
                    <div>
                        <label class="flex flex-col" for="lastName">Last Name
                        <input type="text" id="lastName" name="lastName" required class="input input-bordered input-ghost rounded-none border-solid border-1 border-base-100 bg-white focus:border-secondary focus:text-base-100" />
                    </label>
                    </div>
                </div>

                <label class="flex flex-col pb-2" for="businessName">Business Name
                <input type="text" id="businessName" name="businessName" class="input input-bordered input-ghost rounded-none border-solid border-1 border-base-100 bg-white focus:border-secondary focus:text-base-100" />
            </label>
                <div class="grid grid-cols-2 gap-4 pb-2">
                    <div>
                        <label class="flex flex-col" for="email">Email
                        <input type="email" id="email" name="email" class="input input-bordered input-ghost rounded-none border-solid border-1 border-base-100 bg-white focus:border-secondary focus:text-base-100" />
                    </label>
                    </div>
                    <div>
                        <label class="flex flex-col" for="phone">Phone
                        <input type="tel" id="phone" name="phone" class="input input-bordered input-ghost rounded-none border-solid border-1 border-base-100 bg-white focus:border-secondary focus:text-base-100" />
                    </label>
                    </div>
                </div>

                <label class="flex flex-col pb-2" for="website">Website
                <input type="url" id="website" name="website" class="input input-bordered input-ghost rounded-none border-solid border-1 border-base-100 bg-white focus:border-secondary focus:text-base-100" />
            </label>

                <label class="flex flex-col pb-2" for="lineOfBusiness">What is your line of business?
                <textarea id="lineOfBusiness" name="lineOfBusiness" required class="textarea textarea-bordered textarea-ghost rounded-none border-solid border-1 border-base-100 bg-white focus:border-secondary focus:text-base-100"></textarea>
            </label>

                <label class="flex flex-col pb-2" for="tasksInterest">What kinds of tasks are you interested in having completed? <span class="text-xs pb-1">You do not have to go into task details, just a broad overview or example.</span>
                <textarea id="tasksInterest" name="tasksInterest" required class="textarea textarea-bordered textarea-ghost rounded-none border-solid border-1 border-base-100 bg-white focus:border-secondary focus:text-base-100"></textarea>
            </label>

                <label class="flex flex-col pb-2" for="requestFrequency">How often do you see yourself requesting tasks?
                <select id="requestFrequency" name="requestFrequency" class="select select-bordered select-ghost rounded-none border-solid border-1 border-base-100 bg-white focus:border-secondary focus:text-base-100">
                    <option>Select an option</option>
                    <option value="Just testing">Just testing this out for now</option>
                    <option value="Daily">Daily</option>
                    <option value="Weekly">Weekly</option>
                    <option value="Monthly">A few times a month</option>
                </select>
            </label>

                <label class="flex flex-col pb-2" for="communicationMethod">What is your preferred method of communication?
                <select id="communicationMethod" name="communicationMethod" class="select select-bordered select-ghost rounded-none border-solid border-1 border-base-100 bg-white focus:border-secondary focus:text-base-100">
                    <option>Select an option</option>
                    <option value="email">Email</option>
                    <option value="text">Text</option>
                </select>
            </label>

                <label class="flex flex-col" for="introMeeting">Would you like to set up an introductory Zoom meeting?
                    <span class="text-xs pb-1"> Totally optional, but we can introduce ourselves and I can get to know a little more about your business needs.</span>
                <select id="introMeeting" name="introMeeting" class="select select-bordered select-ghost rounded-none border-solid border-1 border-base-100 bg-white focus:border-secondary focus:text-base-100">
                    <option>Select an option</option>
                    <option value="yes">Yes</option>
                    <option value="no">Not at this time</option>
                </select>
            </label>
                <button type="submit" class="btn btn-primary mt-4">Submit</button>
            </form>
        </div>
    </section>
    <script src="//code.tidio.co/tdv8h5nvfvmunnpiatdnog3kzoprjp4w.js" async></script>
    <script>
        const form = document.querySelector('form[name="registerForm"]');
        form?.addEventListener('submit', function(event) {
      
          // Disable the submit button (assuming it exists)
          const submitButton = form.querySelector('button[type="submit"]');
          submitButton?.classList.add('disabled'); 
      
          // Submit the form to Netlify 
          (form as HTMLFormElement).submit();  
      
          // Redirect to the success page after a short delay
          setTimeout(() => {
            window.location.href = '/success/';
          }, 1000); 
        });
      </script>
      
</body>
</html>